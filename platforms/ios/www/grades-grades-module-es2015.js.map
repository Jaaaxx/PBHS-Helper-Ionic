{"version":3,"sources":["./src/app/grades/grades.page.html","./src/app/grades/grades-routing.module.ts","./src/app/grades/grades.module.ts","./src/app/grades/grades.page.scss","./src/app/grades/grades.page.ts"],"names":[],"mappings":"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","file":"grades-grades-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button text=\\\"\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>\\n            Grades\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n    <ion-refresher (ionRefresh)=\\\"doRefresh($event)\\\" slot=\\\"fixed\\\">\\n        <ion-refresher-content\\n                pullingIcon=\\\"arrow-down\\\"\\n                pullingText=\\\"Refresh\\\"\\n                refreshingSpinner=\\\"circular\\\"\\n                refreshingText=\\\"Refreshing...\\\">\\n        </ion-refresher-content>\\n    </ion-refresher>\\n    <ul class=\\\"gradesUL\\\" id=\\\"rows\\\">\\n    </ul>\\n    <a (click)=\\\"signOut()\\\" class=\\\"currentUser\\\" id=\\\"currentUserGR\\\">\\n        <b>Sign Out: 06########</b>\\n    </a>\\n</ion-content>\\n\"","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\n\nimport {GradesPage} from './grades.page';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: GradesPage\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\nexport class GradesPageRoutingModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {GradesPageRoutingModule} from './grades-routing.module';\n\nimport {GradesPage} from './grades.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    GradesPageRoutingModule\n  ],\n  declarations: [GradesPage]\n})\nexport class GradesPageModule {\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2dyYWRlcy9ncmFkZXMucGFnZS5zY3NzIn0= */\"","import {Component, OnInit} from '@angular/core';\nimport {LoadingController, NavController} from '@ionic/angular';\nimport {Plugins} from '@capacitor/core';\nimport {NavigationExtras, Router} from '@angular/router';\n\nconst {Storage} = Plugins;\n\nasync function fetchAsync(url) {\n  const response = await fetch(url);\n  return await response.text();\n}\n\n@Component({\n  selector: 'app-grades',\n  templateUrl: './grades.page.html',\n  styleUrls: ['./grades.page.scss'],\n})\n\nexport class GradesPage implements OnInit {\n\n  constructor(private router: Router, public loadingController: LoadingController,\n              public navCtrl: NavController) {\n  }\n\n  doRefresh(event) {\n    const rows = document.getElementById('rows');\n    const rowChildren = rows.children as HTMLCollectionOf<HTMLElement>;\n    // @ts-ignore\n    for (const child of rowChildren) {\n      for (const innerChild of child.children) {\n        innerChild.disabled = true;\n      }\n    }\n    rows.classList.add('blur');\n    this.getLogin().then(r => {\n      const endpoint = `https://pinnacle-scraper.herokuapp.com/api?un=${r.un}&pw=${r.pw}`;\n      fetchAsync(endpoint).then(data => {\n        rows.classList.remove('blur');\n        event.target.complete();\n        rows.textContent = '';\n        const jData = JSON.parse(data);\n        for (const i of jData) {\n          if (i.Grade === '') {\n            this.addGrade(i.Course, '', JSON.stringify(i.Assignments));\n          } else {\n            this.addGrade(i.Course, i.Grade + '%', JSON.stringify(i.Assignments));\n          }\n        }\n      });\n    });\n  }\n\n  async getLogin() {\n    const ret = await Storage.get({key: 'login'});\n    return JSON.parse(ret.value);\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create();\n    await loading.present();\n  }\n\n  selectColor(grade) {\n    const g100 = '#5FB45F';\n    const g98 = '#74D674';\n    const g96 = '#89EE89';\n    const g94 = '#A4F5A4';\n    const g92 = '#C1FFC1';\n    const g90 = '#D1FAD1';\n\n    const g88 = '#FFFFCE';\n    const g86 = '#F8F890';\n    const g84 = '#F8F86A';\n    const g82 = '#FDFD46';\n    const g80 = '#FDFD03';\n\n    const g78 = '#FCC273';\n    const g76 = '#FDB34E';\n    const g74 = '#DD932E';\n    const g72 = '#BB7516';\n    const g70 = '#9E5D04';\n    const g00 = '#a52a2a';\n    if (grade >= 100) {\n      return g100;\n    }\n    if (grade >= 100) {\n      return g100;\n    }\n    if (grade >= 98) {\n      return g98;\n    }\n    if (grade >= 96) {\n      return g96;\n    }\n    if (grade >= 94) {\n      return g94;\n    }\n    if (grade >= 92) {\n      return g92;\n    }\n    if (grade >= 90) {\n      return g90;\n    }\n    if (grade >= 88) {\n      return g88;\n    }\n    if (grade >= 86) {\n      return g86;\n    }\n    if (grade >= 84) {\n      return g84;\n    }\n    if (grade >= 82) {\n      return g82;\n    }\n    if (grade >= 80) {\n      return g80;\n    }\n    if (grade >= 78) {\n      return g78;\n    }\n    if (grade >= 76) {\n      return g76;\n    }\n    if (grade >= 74) {\n      return g74;\n    }\n    if (grade >= 72) {\n      return g72;\n    }\n    if (grade >= 70) {\n      return g70;\n    }\n    if (grade < 70) {\n      return g00;\n    }\n  }\n\n  addGrade(name, grade, assignments) {\n    const rows = document.getElementById('rows');\n    const nameContainer = document.createElement('li');\n    const n1 = document.createElement('h2');\n    n1.textContent = name;\n    nameContainer.append(n1);\n    const gradeContainer = document.createElement('li');\n    const g1 = document.createElement('button');\n    g1.textContent = grade;\n    const gNumber = parseInt(grade.replace('%', ''), 10);\n    g1.style.backgroundColor = this.selectColor(gNumber);\n    g1.onclick = () => {\n      const navigationExtras: NavigationExtras = {\n        state: {\n          jsonData: assignments,\n          title: name\n        }\n      };\n      this.router.navigate(['/assignments'], navigationExtras);\n    };\n    gradeContainer.append(g1);\n    rows.append(nameContainer);\n    rows.append(gradeContainer);\n  }\n\n  async setLogin(uun, upw) {\n    await Storage.set({\n      key: 'login',\n      value: JSON.stringify({\n        un: uun,\n        pw: upw\n      })\n    });\n  }\n\n  signOut() {\n    this.setLogin('', '').then(r => this.router.navigateByUrl('/login'));\n  }\n\n  ngOnInit() {\n    this.getLogin().then(r => document.getElementById('currentUserGR').innerHTML = `Sign Out: <b>${r.un}</b>`);\n    this.presentLoading();\n    this.getLogin().then(r => {\n      const endpoint = `https://pinnacle-scraper.herokuapp.com/api?un=${r.un}&pw=${r.pw}`;\n      fetchAsync(endpoint).then(data => {\n        this.loadingController.dismiss();\n        const jData = JSON.parse(data);\n        for (const i of jData) {\n          if (i.Grade === '') {\n            this.addGrade(i.Course, '', JSON.stringify(i.Assignments));\n          } else {\n            this.addGrade(i.Course, i.Grade + '%', JSON.stringify(i.Assignments));\n          }\n        }\n      });\n    });\n  }\n}\n\n"],"sourceRoot":"webpack:///"}