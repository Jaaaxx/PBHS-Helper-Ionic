{"version":3,"sources":["src/app/grades/grades.page.html","src/app/grades/grades-routing.module.ts","src/app/grades/grades.module.ts","src/app/grades/grades.page.scss","src/app/grades/grades.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button text=\\\"\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>\\n            Grades\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n    <ion-refresher (ionRefresh)=\\\"doRefresh($event)\\\" slot=\\\"fixed\\\">\\n        <ion-refresher-content\\n                pullingIcon=\\\"arrow-down\\\"\\n                pullingText=\\\"Refresh\\\"\\n                refreshingSpinner=\\\"circular\\\"\\n                refreshingText=\\\"Refreshing...\\\">\\n        </ion-refresher-content>\\n    </ion-refresher>\\n    <ul class=\\\"gradesUL\\\" id=\\\"rows\\\">\\n    </ul>\\n    <a (click)=\\\"signOut()\\\" class=\\\"currentUser\\\" id=\\\"currentUserGR\\\">\\n        <b>Sign Out: 06########</b>\\n    </a>\\n</ion-content>\\n\"","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\n\nimport {GradesPage} from './grades.page';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: GradesPage\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\nexport class GradesPageRoutingModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {GradesPageRoutingModule} from './grades-routing.module';\n\nimport {GradesPage} from './grades.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    GradesPageRoutingModule\n  ],\n  declarations: [GradesPage]\n})\nexport class GradesPageModule {\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2dyYWRlcy9ncmFkZXMucGFnZS5zY3NzIn0= */\"","import {Component, OnInit} from '@angular/core';\nimport {LoadingController, NavController} from '@ionic/angular';\nimport {Plugins} from '@capacitor/core';\nimport {NavigationExtras, Router} from '@angular/router';\n\nconst {Storage} = Plugins;\n\nasync function fetchAsync(url) {\n  const response = await fetch(url);\n  return await response.text();\n}\n\n@Component({\n  selector: 'app-grades',\n  templateUrl: './grades.page.html',\n  styleUrls: ['./grades.page.scss'],\n})\n\nexport class GradesPage implements OnInit {\n\n  constructor(private router: Router, public loadingController: LoadingController,\n              public navCtrl: NavController) {\n  }\n\n  doRefresh(event) {\n    const rows = document.getElementById('rows');\n    const rowChildren = rows.children as HTMLCollectionOf<HTMLElement>;\n    // @ts-ignore\n    for (const child of rowChildren) {\n      for (const innerChild of child.children) {\n        innerChild.disabled = true;\n      }\n    }\n    rows.classList.add('blur');\n    this.getLogin().then(r => {\n      const endpoint = `https://pinnacle-scraper.herokuapp.com/api?un=${r.un}&pw=${r.pw}`;\n      fetchAsync(endpoint).then(data => {\n        rows.classList.remove('blur');\n        event.target.complete();\n        rows.textContent = '';\n        const jData = JSON.parse(data);\n        for (const i of jData) {\n          if (i.Grade === '') {\n            this.addGrade(i.Course, '', JSON.stringify(i.Assignments));\n          } else {\n            this.addGrade(i.Course, i.Grade + '%', JSON.stringify(i.Assignments));\n          }\n        }\n      });\n    });\n  }\n\n  async getLogin() {\n    const ret = await Storage.get({key: 'login'});\n    return JSON.parse(ret.value);\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create();\n    await loading.present();\n  }\n\n  selectColor(grade) {\n    const g100 = '#5FB45F';\n    const g98 = '#74D674';\n    const g96 = '#89EE89';\n    const g94 = '#A4F5A4';\n    const g92 = '#C1FFC1';\n    const g90 = '#D1FAD1';\n\n    const g88 = '#FFFFCE';\n    const g86 = '#F8F890';\n    const g84 = '#F8F86A';\n    const g82 = '#FDFD46';\n    const g80 = '#FDFD03';\n\n    const g78 = '#FCC273';\n    const g76 = '#FDB34E';\n    const g74 = '#DD932E';\n    const g72 = '#BB7516';\n    const g70 = '#9E5D04';\n    const g00 = '#a52a2a';\n    if (grade >= 100) {\n      return g100;\n    }\n    if (grade >= 100) {\n      return g100;\n    }\n    if (grade >= 98) {\n      return g98;\n    }\n    if (grade >= 96) {\n      return g96;\n    }\n    if (grade >= 94) {\n      return g94;\n    }\n    if (grade >= 92) {\n      return g92;\n    }\n    if (grade >= 90) {\n      return g90;\n    }\n    if (grade >= 88) {\n      return g88;\n    }\n    if (grade >= 86) {\n      return g86;\n    }\n    if (grade >= 84) {\n      return g84;\n    }\n    if (grade >= 82) {\n      return g82;\n    }\n    if (grade >= 80) {\n      return g80;\n    }\n    if (grade >= 78) {\n      return g78;\n    }\n    if (grade >= 76) {\n      return g76;\n    }\n    if (grade >= 74) {\n      return g74;\n    }\n    if (grade >= 72) {\n      return g72;\n    }\n    if (grade >= 70) {\n      return g70;\n    }\n    if (grade < 70) {\n      return g00;\n    }\n  }\n\n  addGrade(name, grade, assignments) {\n    const rows = document.getElementById('rows');\n    const nameContainer = document.createElement('li');\n    const n1 = document.createElement('h2');\n    n1.textContent = name;\n    nameContainer.append(n1);\n    const gradeContainer = document.createElement('li');\n    const g1 = document.createElement('button');\n    g1.textContent = grade;\n    const gNumber = parseInt(grade.replace('%', ''), 10);\n    g1.style.backgroundColor = this.selectColor(gNumber);\n    g1.onclick = () => {\n      const navigationExtras: NavigationExtras = {\n        state: {\n          jsonData: assignments,\n          title: name\n        }\n      };\n      this.router.navigate(['/assignments'], navigationExtras);\n    };\n    gradeContainer.append(g1);\n    rows.append(nameContainer);\n    rows.append(gradeContainer);\n  }\n\n  async setLogin(uun, upw) {\n    await Storage.set({\n      key: 'login',\n      value: JSON.stringify({\n        un: uun,\n        pw: upw\n      })\n    });\n  }\n\n  signOut() {\n    this.setLogin('', '').then(r => this.router.navigateByUrl('/login'));\n  }\n\n  ngOnInit() {\n    this.getLogin().then(r => document.getElementById('currentUserGR').innerHTML = `Sign Out: <b>${r.un}</b>`);\n    this.presentLoading();\n    this.getLogin().then(r => {\n      const endpoint = `https://pinnacle-scraper.herokuapp.com/api?un=${r.un}&pw=${r.pw}`;\n      fetchAsync(endpoint).then(data => {\n        this.loadingController.dismiss();\n        const jData = JSON.parse(data);\n        for (const i of jData) {\n          if (i.Grade === '') {\n            this.addGrade(i.Course, '', JSON.stringify(i.Assignments));\n          } else {\n            this.addGrade(i.Course, i.Grade + '%', JSON.stringify(i.Assignments));\n          }\n        }\n      });\n    });\n  }\n}\n\n"],"sourceRoot":"webpack:///","file":"grades-grades-module-es5.js"}